<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑ ‚Äî K-LINE</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0d0d0f;
            --card-glass: rgba(28, 28, 30, 0.6);
            --accent-blue: #007aff;
            --text-main: #ffffff;
            --radius-ios: 32px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            overflow-x: hidden;
            background: radial-gradient(circle at 50% -20%, #1c1c1e 0%, #0d0d0f 100%);
        }

        /* –§–æ–Ω–æ–≤–æ–µ "–∂–∏–¥–∫–æ–µ" –ø—è—Ç–Ω–æ */
        .blob {
            position: fixed;
            width: 500px;
            height: 500px;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.15), rgba(88, 86, 214, 0.15));
            filter: blur(80px);
            border-radius: 50%;
            z-index: -1;
            animation: move 20s infinite alternate;
        }

        @keyframes move {
            from { transform: translate(-10%, -10%); }
            to { transform: translate(20%, 20%); }
        }

        /* Dynamic Island Style Notification */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            padding: 10px 24px;
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid rgba(255,255,255,0.1);
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Navbar –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        .navbar {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: fit-content;
            background: var(--card-glass);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            padding: 12px 30px;
            border-radius: 100px;
            display: flex;
            gap: 25px;
            border: 1px solid rgba(255,255,255,0.08);
            z-index: 1000;
        }

        .navbar a {
            color: rgba(255,255,255,0.6);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: 0.3s;
        }

        .navbar a:hover { 
            color: #fff; 
            transform: translateY(-2px); 
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 20px 180px;
        }

        /* Video Player Section ‚Äî —É–ª—É—á—à–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω */
        .player-section {
            margin-bottom: 80px;
            position: relative;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9;
            border-radius: var(--radius-ios);
            overflow: hidden;
            box-shadow: 0 40px 100px rgba(0, 122, 255, 0.25);
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* –ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –æ–≤–µ—Ä–ª–µ–π (–≤–∏–Ω—å–µ—Ç–∫–∞) */
        .video-wrapper::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 40%, rgba(0,0,0,0.4) 100%);
            pointer-events: none;
            z-index: 2;
            transition: opacity 0.5s;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –ø–ª—ë–Ω–∫–∏ (–ª—ë–≥–∫–∞—è –∑–µ—Ä–Ω–∏—Å—Ç–æ—Å—Ç—å) */
        .video-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0px, rgba(0,0,0,0.02) 2px, transparent 3px);
            pointer-events: none;
            z-index: 3;
            opacity: 0.3;
        }

        .video-player {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .video-player video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: relative;
            z-index: 1;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —ç—Ç–∞–ø–∞ (Intro / Trailer) */
        .stage-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 8px 18px;
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 1px;
            border: 1px solid rgba(255,255,255,0.15);
            z-index: 10;
            color: rgba(255,255,255,0.9);
            text-transform: uppercase;
        }
        .stage-badge span {
            color: var(--accent-blue);
            margin-left: 5px;
        }

        /* Custom Player Controls */
        .player-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 40px 20px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 20;
        }

        .video-player:hover .player-controls {
            opacity: 1;
        }

        .play-btn {
            width: 50px;
            height: 50px;
            background: var(--accent-blue);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .play-btn:hover {
            background: #0066ff;
            transform: scale(1.1);
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-blue);
            border-radius: 3px;
            width: 0%;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: var(--accent-blue);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 122, 255, 0.5);
        }

        .time-display {
            color: rgba(255,255,255,0.7);
            font-size: 0.85rem;
            font-weight: 500;
            min-width: 80px;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0 10px;
        }

        .volume-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 18px;
            transition: 0.3s;
        }

        .volume-btn:hover {
            color: var(--accent-blue);
        }

        .fullscreen-btn {
            background: none;
            border: none;
            color: rgba(255,255,255,0.7);
            cursor: pointer;
            font-size: 18px;
            transition: 0.3s;
        }

        .fullscreen-btn:hover {
            color: white;
        }

        /* Header Section ‚Äî —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å */
        .header-section {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            animation-delay: 0.2s;
        }

        .header-section h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            letter-spacing: -1.5px;
            margin-bottom: 20px;
            background: linear-gradient(to bottom, #fff 0%, #a1a1a1 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
        }
        .header-section h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 2px;
            background: var(--accent-blue);
            border-radius: 2px;
        }

        .header-section p {
            font-size: 1.1rem;
            color: rgba(255,255,255,0.6);
            font-weight: 300;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            animation-delay: 0.3s;
        }

        .info-card {
            background: var(--card-glass);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            padding: 30px;
            border-radius: var(--radius-ios);
            border: 1px solid rgba(255,255,255,0.08);
            transition: all 0.3s;
        }

        .info-card:hover {
            background: rgba(28, 28, 30, 0.9);
            border-color: rgba(255,255,255,0.15);
            transform: translateY(-5px);
        }

        .info-card h3 {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-blue);
            margin-bottom: 15px;
        }

        .info-card p {
            font-size: 0.95rem;
            color: rgba(255,255,255,0.7);
            line-height: 1.7;
            font-weight: 300;
        }

        .info-card ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .info-card li {
            font-size: 0.95rem;
            color: rgba(255,255,255,0.7);
            padding-left: 20px;
            position: relative;
            font-weight: 300;
        }

        .info-card li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: var(--accent-blue);
            font-weight: 600;
        }

        .cta-button {
            display: inline-block;
            background: var(--accent-blue);
            color: white;
            padding: 12px 30px;
            border-radius: 100px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            margin-top: 15px;
        }

        .cta-button:hover {
            background: #0066ff;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 122, 255, 0.3);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .navbar {
                bottom: 20px;
                padding: 10px 20px;
                gap: 15px;
            }
            .navbar a {
                font-size: 0.85rem;
            }
            .container {
                padding: 40px 20px 160px;
            }
            .content-grid {
                grid-template-columns: 1fr;
            }
            .player-controls {
                padding: 30px 15px 15px;
                gap: 10px;
            }
            .play-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>

    <div class="blob"></div>

    <div class="notification">
        Beta Development Phase 2.6 ‚Ä¢ Exclusive Screening
    </div>

    <div class="container">
        <!-- Video Player -->
        <div class="player-section">
            <div class="video-wrapper">
                <div class="video-player" id="videoPlayer">
                    <video id="mainVideo" playsinline poster="../files/poster.jpg">
                        <!-- –ò—Å—Ç–æ—á–Ω–∏–∫ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JS -->
                    </video>
                    <!-- –ë–µ–π–¥–∂ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (Intro / Trailer) -->
                    <div class="stage-badge" id="stageBadge">
                        –°–ï–ô–ß–ê–°: <span id="stageText">–ò–ù–¢–†–û</span>
                    </div>
                    <div class="player-controls">
                        <button class="play-btn" id="playBtn">‚ñ∂</button>
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="time-display">
                            <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
                        </div>
                        <div class="volume-control">
                            <button class="volume-btn" id="volumeBtn">üîä</button>
                        </div>
                        <button class="fullscreen-btn" id="fullscreenBtn">‚õ∂</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Header Section -->
        <div class="header-section">
            <h1>K-LINE: –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –ø–æ–∫–∞–∑</h1>
            <p>–ü–µ—Ä–µ–¥ –≤–∞–º–∏ —Ä–∞–∑–≤–µ—Ä–Ω—ë—Ç—Å—è –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–∞—è –ø–æ—ç–∑–∏—è –£—Ä–∞–ª–∞. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∏–Ω—Ç—Ä–æ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É.</p>
        </div>

        <!-- Content Cards -->
        <div class="content-grid">
            <div class="info-card">
                <h3>–û –ü—Ä–æ–µ–∫—Ç–µ</h3>
                <p>
                    K-LINE ‚Äî —ç—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–π –∫—Ä–∞—Å–æ—Ç–µ –£—Ä–∞–ª–∞. –ú—ã –∏—Å—Å–ª–µ–¥—É–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å–µ—Ç–∏, –ª–æ–≥–∏—Å—Ç–∏–∫—É –∏ –ª—é–¥–µ–π, —á—å—è –∂–∏–∑–Ω—å –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ —Å–≤—è–∑–∞–Ω–∞ —Å –¥–≤–∏–∂–µ–Ω–∏–µ–º –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞.
                </p>
                <button class="cta-button">–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</button>
            </div>

            <div class="info-card">
                <h3>–ß—Ç–æ –≤–∞—Å –∂–¥–µ—Ç</h3>
                <ul>
                    <li>6 —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–∏–π</li>
                    <li>–ö–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å —Å—ä–µ–º–∫–∏</li>
                    <li>–ò–Ω—Ç–µ—Ä–≤—å—é —Å –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–º–∏ –¥–µ—è—Ç–µ–ª—è–º–∏</li>
                    <li>–°—Ü–µ–Ω–æ–≥—Ä–∞—Ñ–∏—è –Ω–æ—á–Ω–æ–≥–æ –£—Ä–∞–ª–∞</li>
                    <li>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∞—É–Ω–¥—Ç—Ä–∞–∫</li>
                    <li>4K Ultra HD –∫–∞—á–µ—Å—Ç–≤–æ</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h3>
                <p>
                    –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –†–µ–∂–∏—Å—Å—É—Ä–∞, –æ–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ –∏ –ø–æ—Å—Ç–ø—Ä–æ–¥–∞–∫—à–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤.
                </p>
                <button class="cta-button">–ö–æ–º–∞–Ω–¥–∞</button>
            </div>
        </div>
    </div>

    <nav class="navbar">
        <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="../team/">–ö–æ–º–∞–Ω–¥–∞</a>
        <a href="../series/">–°–µ—Ä–∏–∏</a>
        <a href="../production/">–ü—Ä–æ–¥–∞–∫—à–Ω</a>
    </nav>

    <script>
        (function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã
            const video = document.getElementById('mainVideo');
            const playBtn = document.getElementById('playBtn');
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const currentTimeEl = document.getElementById('currentTime');
            const durationEl = document.getElementById('duration');
            const volumeBtn = document.getElementById('volumeBtn');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const videoPlayer = document.getElementById('videoPlayer');
            const stageText = document.getElementById('stageText');

            // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–µ–æ
            const INTRO_SRC = '../files/start-trailer.mp4';
            const TRAILER_SRC = '../files/trailer.mp4';

            // –°–æ—Å—Ç–æ—è–Ω–∏–µ
            let isIntro = true;               // –°–µ–π—á–∞—Å –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è intro?
            let introFinished = false;        // –ë—ã–ª–æ –ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ intro (—á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å)
            let userInteracted = false;        // –ë—ã–ª –ª–∏ –ø–µ—Ä–≤—ã–π –∫–ª–∏–∫ play

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º intro –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
            video.src = INTRO_SRC;
            video.load();
            updateStageBadge(true);

            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            function formatTime(seconds) {
                if (isNaN(seconds)) return '0:00';
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–π–¥–∂–∞
            function updateStageBadge(introActive) {
                if (introActive) {
                    stageText.textContent = '–ò–ù–¢–†–û';
                } else {
                    stageText.textContent = '–¢–†–ï–ô–õ–ï–†';
                }
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–µ–π–ª–µ—Ä –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è intro
            function switchToTrailer() {
                if (!introFinished) {
                    introFinished = true;
                    isIntro = false;
                    video.src = TRAILER_SRC;
                    video.load();
                    video.play().catch(e => console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–π–ª–µ—Ä–∞ –Ω–µ —É–¥–∞–ª–æ—Å—å:', e));
                    updateStageBadge(false);
                    // –û–±–Ω–æ–≤–∏–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –ø–ª–µ–µ—Ä–µ
                    video.addEventListener('loadedmetadata', function onMeta() {
                        durationEl.textContent = formatTime(video.duration);
                        video.removeEventListener('loadedmetadata', onMeta);
                    });
                }
            }

            // –°–æ–±—ã—Ç–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–∏–¥–µ–æ
            video.addEventListener('ended', function() {
                if (isIntro) {
                    // Intro –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Ç—Ä–µ–π–ª–µ—Ä –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
                    switchToTrailer();
                } else {
                    // –¢—Ä–µ–π–ª–µ—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è ‚Äî –º–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞,
                    // –Ω–æ –ø–æ –∑–∞–¥–∞—á–µ –Ω–∏—á–µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –ü—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è.
                    playBtn.textContent = '‚ñ∂';
                }
            });

            // Play / Pause
            playBtn.addEventListener('click', function() {
                if (video.paused) {
                    // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ intro –µ—â—ë –Ω–µ –±—ã–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ, —É–±–µ–¥–∏–º—Å—è —á—Ç–æ –∏—Å—Ç–æ—á–Ω–∏–∫ - intro
                    if (!introFinished && video.src.indexOf(INTRO_SRC) === -1) {
                        video.src = INTRO_SRC;
                        video.load();
                        isIntro = true;
                        updateStageBadge(true);
                    }
                    video.play().catch(e => console.log('Play error:', e));
                    playBtn.textContent = '‚è∏';
                } else {
                    video.pause();
                    playBtn.textContent = '‚ñ∂';
                }
            });

            video.addEventListener('play', () => {
                playBtn.textContent = '‚è∏';
            });

            video.addEventListener('pause', () => {
                playBtn.textContent = '‚ñ∂';
            });

            // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            video.addEventListener('loadedmetadata', () => {
                durationEl.textContent = formatTime(video.duration);
            });

            // –ü—Ä–æ–≥—Ä–µ—Å—Å
            video.addEventListener('timeupdate', () => {
                const percent = (video.currentTime / video.duration) * 100;
                progressFill.style.width = percent + '%';
                currentTimeEl.textContent = formatTime(video.currentTime);
            });

            // –ö–ª–∏–∫ –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—É ‚Äî –ø–µ—Ä–µ–º–æ—Ç–∫–∞ (–∑–∞–ø—Ä–µ—â–µ–Ω–∞ –≤–æ –≤—Ä–µ–º—è intro)
            progressBar.addEventListener('click', (e) => {
                if (isIntro) {
                    // –í–æ –≤—Ä–µ–º—è –∏–Ω—Ç—Ä–æ –ø–µ—Ä–µ–º–æ—Ç–∫–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–∞ (–±–µ–∑ –∫–Ω–æ–ø–∫–∏ —Å–∫–∏–ø–∞)
                    return;
                }
                const rect = progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                video.currentTime = percent * video.duration;
            });

            // Volume
            volumeBtn.addEventListener('click', () => {
                video.muted = !video.muted;
                volumeBtn.textContent = video.muted ? 'üîá' : 'üîä';
            });

            // Fullscreen
            fullscreenBtn.addEventListener('click', () => {
                if (videoPlayer.requestFullscreen) {
                    videoPlayer.requestFullscreen();
                } else if (videoPlayer.webkitRequestFullscreen) {
                    videoPlayer.webkitRequestFullscreen();
                }
            });

            // –ï—Å–ª–∏ –≤–∏–¥–µ–æ –±—ã–ª–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â—ë –Ω–µ –∏–≥—Ä–∞–ª ‚Äî –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å—Ç–µ—Ä.
            // –¢–∞–∫–∂–µ –∑–∞–ø—Ä–µ—â–∞–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –ø–æ–ª–∑—É–Ω–∫–∞ –º—ã—à—å—é —Å –∑–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–æ–π –≤–æ –≤—Ä–µ–º—è –∏–Ω—Ç—Ä–æ (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π –ø–µ—Ä–µ–º–æ—Ç–∫–∏)
            video.addEventListener('seeking', function() {
                if (isIntro) {
                    // –ï—Å–ª–∏ –≤–¥—Ä—É–≥ –ø–µ—Ä–µ–º–æ—Ç–∫–∞ –≤—Å—ë –∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –º–µ—Å—Ç–æ?
                    // –ù–æ –∫–ª–∞–≤–∏—à–∏ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ —Ç–æ–∂–µ –ø–µ—Ä–µ–º–∞—Ç—ã–≤–∞—é—Ç. –ß—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–∫–∏–ø, –º–æ–∂–Ω–æ 
                    // –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ currentTime –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–≤—è–∑—á–∏–≤–æ.
                    // –í –¥–∞–Ω–Ω–æ–º —Ä–µ—à–µ–Ω–∏–∏ –º—ã –±–ª–æ–∫–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∫–ª–∏–∫ –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—É, –∫–ª–∞–≤–∏—à–∏ –æ—Å—Ç–∞—é—Ç—Å—è.
                    // –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø—Ä–µ—Ç –∫–ª–∞–≤–∏—à, –Ω–æ —ç—Ç–æ —É—Å–ª–æ–∂–Ω–∏—Ç UX.
                    // –ü–æ—Å–∫–æ–ª—å–∫—É —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ "–±–µ–∑ –∫–Ω–æ–ø–∫–∏ —Å–∫–∏–ø–∞", –≤–µ—Ä–æ—è—Ç–Ω–æ, –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–∫–∏–ø–∞,
                    // –º—ã –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–ø—É—Å–∫–∞. –ö–ª–∞–≤–∏—à–∏ –æ—Å—Ç–∞–≤–∏–º (–æ–±—ã—á–Ω–æ –∑—Ä–∏—Ç–µ–ª—å –Ω–µ –±—É–¥–µ—Ç –∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è).
                }
            });

            // –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ–º isIntro
            video.addEventListener('loadeddata', function() {
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–µ–Ω
                if (video.src.indexOf(INTRO_SRC) !== -1) {
                    isIntro = true;
                    introFinished = false; // —Å–±—Ä–æ—Å, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ intro –∑–∞–≥—Ä—É–∂–µ–Ω–æ —Å–Ω–æ–≤–∞
                    updateStageBadge(true);
                } else {
                    isIntro = false;
                    updateStageBadge(false);
                }
            });

        })();
    </script>
</body>
</html>